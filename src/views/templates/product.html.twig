{% extends '/main_layout.html.twig' %}

{% block header %}
    {% include "partials/header-product.html.twig" %}
{% endblock %}

{% block content %}
    <div class = "product-container" id="product">
        <div class = "slider-for">
            <img class = "product-image" src = '{{product.images[0].url}}'/>
            <img class = "product-image" src = '{{product.images[1].url}}'/>
            <img class = "product-image" src = '{{product.images[2].url}}'/>
            <img class = "product-image" src = '{{product.images[3].url}}'/>
            <img class = "product-image" src = '{{product.images[2].url}}'/>
        </div>

        <div class = "slider-nav">
            <img class = "product-image--nav" src = '{{product.images[0].url}}'/>
            <img class = "product-image--nav" src = '{{product.images[1].url}}'/>
            <img class = "product-image--nav" src = '{{product.images[2].url}}'/>
            <img class = "product-image--nav" src = '{{product.images[3].url}}'/>
            <img class = "product-image--nav" src = '{{product.images[2].url}}'/>
        </div>

        <section class = "product-content">
            <div class = "main-content">
                {% include "partials/product-description.html.twig" %}
            </div>
            
            {% set reservedDates = [] %}
            {% for dates in product.reserved_dates %}    
                {% set reservedDates = reservedDates|merge([dates.date]) %}
            {% endfor %}

            <div id ="side" class = "side-content" data-dates={{ reservedDates|json_encode|raw }}>
                {% include "partials/side-content.html.twig" %}
            </div>
        </section>

        {% include "partials/comments.html.twig" %}
    </div>
{% endblock %}
